(function(){'use strict';var Modal={ACTION:'modal',init:function(){var self=this;self.registerCallbacks();},registerCallbacks:function(){var self=this;Base.Controller.registerCallback(self.ACTION,function(data,button){return data;},self.loadModalCallback);},loadModalCallback:function(sent,response,button){var self=Modal;if(response.id===undefined){response.id=Math.random().toString(36).substring(7);}
self.build(response);},build:function(response){var self=this,html=self.html(response);$('body').append(html);$('#'+response.id).modal('show');Base.Controller.initActionLinks($('#'+response.id));$('.number').on('keypress',{},Base.restrictNumbers);},html:function(response){var self=this,title=response.title,content=response.html,id=response.id,action_href=response.action_href,action=response.action,action_text=response.action_text,html='';html+='<div class="modal fade" id="'+id+'" tabindex="-1" role="dialog" aria-labelledby="'+id+'Label" aria-hidden="true">';html+='<div class="modal-dialog">';html+='<div class="modal-content">';html+='<div class="modal-header">';html+='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>';html+='<h4 class="modal-title">'+title+'</h4>';html+='</div>';html+='<div class="modal-body">';html+=content;html+='</div>';html+='<div class="modal-footer">';html+='<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>';if(action_text!==undefined&&action!==undefined){html+='<button type="button" class="btn btn-'+(response.btn===undefined?'primary':response.btn)+'" data-action="'+action+'">'+action_text+'</button>';}
if(action_href!==undefined&&action_text!==undefined){html+='<a class="btn btn-'+(response.btn===undefined?'primary':response.btn)+'" href="'+action_href+'">'+action_text+'</button>';}
html+='</div>';html+='</div>';html+='</div>';html+='</div>';return html;}};Base.Modal=Modal;}());$(document).ready(function(){'use strict';Base.Modal.init();});